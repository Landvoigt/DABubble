<div class="login-cont flex-center p-relative">
    <div class="hide-mobile" [style.display]="!accountService.playIntro ? 'flex' : 'none' ">
        <img class="logo-after-intro p-absolute hide-mobile" src="assets/img/logo/logo_&_name.png">
    </div>

    <div class="create-account-box d-flex f-column ai-end p-absolute">
        <span class="dialog-span hide-mobile">Neu bei DABubble?</span>
        <span class="dialog-span create-account-span policy-span hide-mobile pointer" (click)="cancelIntro()"
            [routerLink]="'/account'">Konto erstellen</span>
    </div>

    <div class="p-absolute">
        <div class="p-relative" style="width: 100vw; height: 100vh;">
            <div [style.display]="accountService.playIntro ? 'flex' : 'none' " class="intro-cont p-absolute"></div>
            <div [style.display]="accountService.playIntro ? 'flex' : 'none' "
                class="animation-cont p-absolute hide-mobile">
                <div class="intro-logo-title hide-mobile">
                    <div class="logo-img-cont p-relative">
                        <img src="assets/img/logo/logo-intro.png">
                        <div class="title d-flex ai-center j-end p-absolute">DABubble</div>
                    </div>
                </div>
            </div>
            <div class="hide-desktop logo-box d-flex ai-center p-absolute"
                [class.animation-stop]="!accountService.playIntro">
                <img class="logo" src="assets/img/logo/logo_&_name.png">
            </div>
        </div>
    </div>

    <mat-card class="d-flex f-column ai-center">
        <form #loginForm="ngForm" (ngSubmit)="login()" class="d-flex f-column ai-center">
            <h1>Anmeldung</h1>
            <span class="dialog-span sub-title">Wir empfehlen dir, die E-Mail-Adresse zu nutzen, die du bei der Arbeit
                verwendest
            </span>
            <div class="login-input-container d-flex ai-center j-start pointer p-relative">
                <img class="input-icon" src="assets/img/icons/mail.png">
                <input [(ngModel)]="user.email" (ngModelChange)="checkUserEmail()" type="email" name="email"
                    placeholder="E-mail" autocomplete="on" #emailInput="ngModel">
                <span *ngIf="!isEmailValid && emailInput.touched && emailInput.value !== ''" class="warn p-absolute">
                    *Diese E-Mail-Adresse ist leider ungültig.
                </span>
            </div>
            <div class="login-input-container d-flex ai-center j-start pointer p-relative">
                <img class="input-icon" src="assets/img/icons/lock.png">
                <input [(ngModel)]="user.password" (ngModelChange)="checkUserPassword()"
                    type="{{ showPassword ? 'text' : 'password' }}" name="password" placeholder="Passwort"
                    autocomplete="on" #passwordInput="ngModel">
                <img class="privacy-icon pointer"
                    [src]="showPassword ? 'assets/img/eye_open.svg' : 'assets/img/eye-slash-regular.svg'"
                    (click)="togglePasswordVisibility()">
                <span *ngIf="!isPasswordValid && passwordInput.touched && passwordInput.value !== ''"
                    class="warn p-absolute">
                    *Das Passwort ist ungültig.
                </span>
            </div>

            <span [routerLink]="'/send-link'" class="dialog-span password-forgot pointer">Passwort vergessen ?</span>

            <div class="divider-container d-flex">
                <div class="underline"></div>
                <span class="oder-text">ODER</span>
                <div class="underline"></div>
            </div>

            <img class="google-btn-container pointer" src="assets/img/google-login.png" (click)="goToGoogleLogin()">

            <div class="btn-cont">
                <button (click)="login()" [disabled]="!isEmailValid || !isPasswordValid" type="submit"
                    class="btn-primary">Anmelden</button>
                <button class="btn-secondary" (click)="guestLogin()">Gäste-Login</button>
            </div>
        </form>
    </mat-card>
    <footer>
        <div class="d-flex g-40 footer-links-mobile text-center gap-adjust">
            <span class="dialog-span policy-span pointer" [routerLink]="'/imprint'">Impressum</span>
            <span class="dialog-span policy-span pointer"
                [routerLink]="'/privacy-policy'">Datenschutz</span>
        </div>
        <div class="footer-divider-line hide-desktop"></div>
        <div class="d-flex g-40 footer-links-mobile text-center margin-top-mobile">
            <span class="dialog-span hide-desktop text-center">Neu bei DABubble?</span>
            <span class="dialog-span create-account-span policy-span hide-desktop pointer text-center" (click)="cancelIntro()"
                [routerLink]="'/account'">Konto erstellen</span>
        </div>
    </footer>
</div>